import{r as j,ah as N,j as e,ai as C,s as S,t as b,B as u,aj as P,v as E,w as v,z as g,ak as F,T as k,al as w,am as n,V as q,H as D,W as M,X as l,Y as t,_ as c,$ as d,a0 as i,a3 as I,an as T,ao as A,ap as K,aq as R,ar as z,as as H}from"./index-C52iknkL.js";const O=({data:s})=>{const[r]=j.useState(!1),[m,a]=j.useState(!1),o=N(),x=async()=>{};return e.jsxs(e.Fragment,{children:[e.jsx(C,{isOpen:m,onClose:()=>a(!1),onConfirm:x,loading:r}),e.jsxs(S,{modal:!1,children:[e.jsx(b,{asChild:!0,children:e.jsxs(u,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(P,{className:"h-4 w-4"})]})}),e.jsxs(E,{align:"end",children:[e.jsx(v,{children:"Actions"}),e.jsxs(g,{onClick:()=>o.push(`/students/${s.id}`),children:[e.jsx(F,{className:"mr-2 h-4 w-4"})," Update"]}),e.jsxs(g,{onClick:()=>a(!0),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})},B=[{id:"select",header:({table:s})=>e.jsx(w,{checked:s.getIsAllPageRowsSelected(),onCheckedChange:r=>s.toggleAllPageRowsSelected(!!r),"aria-label":"Select all"}),cell:({row:s})=>e.jsx(w,{checked:s.getIsSelected(),onCheckedChange:r=>s.toggleSelected(!!r),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Nama"},{accessorKey:"nipd",header:"NIPD"},{accessorKey:"nik",header:"NIK"},{accessorKey:"nisn",header:"NISN"},{accessorKey:"gender",header:"GENDER"},{id:"actions",cell:({row:s})=>e.jsx(O,{data:s.original})}],L=n.object({firstname:n.string({required_error:"First name is required"}).min(1,{message:"firstname is should be at least 1 character"}),lastname:n.string().min(1,{message:"lastname is required"}),username:n.string().min(1,{message:"username is required"}),school:n.string().min(1,{message:"school is required"}),email:n.string().email({message:"Enter a valid email address"}),phone:n.string().min(1,{message:"Enter a valid phone number"}),password:n.string().min(1,{message:"Password is required"}),confirmPassword:n.string().min(1,{message:"Confirm Password is required"})}).refine(s=>s.password===s.confirmPassword,{message:"Passwords must match",path:["confirmPassword"]}),U=({modalClose:s})=>{const r=q({resolver:I(L),defaultValues:{}}),m=a=>{console.log(a)};return e.jsxs("div",{className:"px-2",children:[e.jsx(D,{title:"Create New Student",description:"",className:"space-y-2 py-4 text-center"}),e.jsx(M,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(m),className:"space-y-4",autoComplete:"off",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[e.jsx(l,{control:r.control,name:"firstname",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your firstname",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"lastname",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your lastname",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"username",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your username",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"school",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your school",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"email",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your email",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"phone",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your phone",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-8 gap-y-4",children:[e.jsx(l,{control:r.control,name:"password",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your password",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"confirmPassword",render:({field:a})=>e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(d,{placeholder:"Enter your confirmPassword",...a,className:" px-4 py-6 shadow-inner drop-shadow-xl"})}),e.jsx(i,{})]})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(u,{type:"button",variant:"secondary",className:"rounded-full ",size:"lg",onClick:s,children:"Cancel"}),e.jsx(u,{type:"submit",className:"rounded-full",size:"lg",children:"Create Student"})]})]})})]})};function V(){return e.jsxs("div",{className:"flex items-center justify-between gap-2 py-5",children:[e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsx(T,{placeholder:"Search People Here"})}),e.jsx("div",{className:"flex gap-3",children:e.jsx(A,{renderModal:s=>e.jsx(U,{modalClose:s})})})]})}function _({students:s,pageCount:r}){return e.jsxs(e.Fragment,{children:[e.jsx(V,{}),s&&e.jsx(K,{columns:B,data:s,pageCount:r})]})}function G(){const[s]=R(),r=Number(s.get("page")||1),m=Number(s.get("limit")||10),a={query:{page:r,take:m}},{data:o,isLoading:x}=z(a),f=o==null?void 0:o.data,h=o==null?void 0:o.meta,p=(h==null?void 0:h.itemCount)||0,y=Math.ceil(p/m);return x?e.jsx("div",{className:"p-5",children:e.jsx(H,{columnCount:10,filterableColumnCount:2,searchableColumnCount:1})}):e.jsx(_,{students:f,page:r,totalUsers:p,pageCount:y})}export{G as default};
